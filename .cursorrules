# AT CORE RULES - UNIVERZ츼LN칈 PRAVIDLA PRO VECHNY PROJEKTY

# POKYNY K POU콯칈V츼N칈
# Pravidlo 6 se aktivuje pouze na V치코 explicitn칤 p콏칤kaz (P콎칈KAZ K칩d Freeze).

# -----------------------------------------------------------------

# KL칈캛OV칄 PRAVIDLO 1: D콡KLADN츼, P콎EHLEDN츼 A JEDNOTN츼 DOKUMENTACE

## P콎칈SN칄 POKYNY PRO AI ASISTENTA CURSORU
1.  **Z치kladn칤 Kontext:** V쬯y, p콏i zah치jen칤 nov칠ho chatu nebo agentn칤 칰lohy, NEJPRVE p콏e캜ti a zpracuj obsah souboru `PROJECT_CONTEXT.md`.
2.  **Rychl칳 P콏ehled:** Pro rychlou orientaci pou쬴j pouze sekci `## 1. RYCHL칗 P콎EHLED` ze souboru `PROJECT_CONTEXT.md`.
3.  **Z츼KAZ Automatick칠 Aktualizace:** Dokumentaci `PROJECT_CONTEXT.md` NIKDY neupravuj ani neaktualizuj automaticky po jak칠koliv 칰prav캩 k칩du.
4.  **Povolen칤 Aktualizace:** Dokumentaci sm칤코 aktualizovat POUZE na explicitn칤 pokyn u쬴vatele (nap콏. "Aktualizuj PROJECT_CONTEXT.md").

# -----------------------------------------------------------------

# KL칈캛OV칄 PRAVIDLO 2: JEDNOTN칗 STYL A REUSE KOMPONENT

## C칈L: ZAJIT캨N칈 VIZU츼LN칈 A K칍DOV칄 KONZISTENCE
1.  **Priorita Reusability:** P콏ed generov치n칤m nov칠 UI komponenty **MUS칈** AI prohledat adres치콏e a naj칤t existuj칤c칤, relevantn칤 implementace.
2.  **Generov치n칤 K칩du:** Pokud st치vaj칤c칤 komponenta spl켿uje po쬬davek, **MUS칈** b칳t pou쬴ta, nikoliv znovu vytvo콏ena. Pokud se vytv치콏칤 nov치 komponenta, **MUS칈** striktn캩 replikovat VIZU츼LN칈 STYL a ARCHITEKTURU ji existuj칤c칤ch, vizu치ln캩 podobn칳ch komponent.
3.  **Z츼KAZ Duplikace:** Vytvo콏en칤 komponenty se stejnou funkc칤 a podobn칳m stylem je **p콏칤sn캩 zak치z치no**.

# -----------------------------------------------------------------

# KL칈캛OV칄 PRAVIDLO 3: P콎칈STUP K N츼STROJ콡M A K칍DU (BEZPE캛NOST A FOKUS)

## POKYNY PRO POU콯IT칈 KONTEXTU A EXTERNN칈CH ZDROJ콡
1.  **Priorita K칩du Projektu:** AI **MUS칈** prim치rn캩 vych치zet z **existuj칤c칤ho k칩du a kontextu** uvnit콏 projektu.
2.  **Webov칳 Vyhled치va캜 (@web):** Pou쬴t칤 n치stroje **@web** je povoleno **POUZE** pro vyhled치n칤 dokumentace k extern칤 knihovn캩, kter치 je코t캩 **NEN칈** v projektu, nebo pro ov캩콏en칤 aktu치ln칤 syntaxe. **Z츼KAZ** pou쬴t칤 @web nam칤sto prohled치n칤 vlastn칤ho k칩du.
3.  **Refaktorov치n칤:** P콏i jak칠mkoliv refaktorov치n칤, AI **MUS칈** automaticky zkontrolovat a odstranit nepou쮂셨an칠 importy a mrtv칳 k칩d (dead code).

# -----------------------------------------------------------------

# KL칈캛OV칄 PRAVIDLO 4: STRATEGIE 콎EEN칈 SLO콯IT칗CH 칔KOL콡

## POKYNY PRO PL츼NOV츼N칈 A POSTUP
1.  **Sekven캜n칤 My코len칤:** Pro 칰koly, kter칠 vy쬬duj칤 zm캩ny ve **v칤ce ne jednom souboru**, AI **MUS칈** postupovat metodou sekven캜n칤ho my코len칤 (Step-by-Step, Plan and Execute).
2.  **Tvorba Pl치nu:** P콏ed jakoukoliv zm캩nou k칩du, AI **MUS칈** nejprve navrhnout **stru캜n칳 pl치n implementace** a ten p콏edlo쬴t u쬴vateli ke schv치len칤.
3.  **Vytv치콏en칤 Test콢:** P콏i implementaci nov칠 business logiky, AI **MUS칈** automaticky zv치쬴t a navrhnout vytvo콏en칤 **nov칳ch unit test콢**.

# -----------------------------------------------------------------

# KL칈캛OV칄 PRAVIDLO 5: STRICTN칈 RESPONZIVITA A P콎칈STUPNOST (MOBILN칈)

## PO콯ADAVKY NA UI A STYLOV츼N칈
1.  **Responzivn칤 Design (MOBILN칈):** V코echny rozm캩ry **MUS칈** b칳t definov치ny pomoc칤 **bezjednotkov칳ch DP (Density-independent pixels)**. **Z츼KAZ** pevn칳ch pixelov칳ch (px) hodnot.
2.  **Rozlo쬰n칤:** AI **MUS칈** vych치zet z **Dimensions API** (`Dimensions.get('window')`) pro dynamick칠 rozlo쬰n칤. V쬯y pou쮂셨ej Flexbox pro rozlo쬰n칤.
3.  **P콏칤stupnost (a11y):** V코echny interaktivn칤 prvky **MUS칈** m칤t spr치vn캩 nastaven칠 `accessibilityRole` a `accessibilityLabel`.

# -----------------------------------------------------------------

# KL칈캛OV칄 PRAVIDLO 6: STABILITA BUILDU A PREVENCE REGRES칈

## DVOJIT츼 KONTROLA PO 칔SP캨N칄M BUILDU
1.  **Aktivace Pravidla:** Pravidlo je **NEAKTIVN칈**, dokud u쬴vatel explicitn캩 neode코le zpr치vu: **"Aktivovat Kl칤캜ov칠 pravidlo 6. STABILITA BUILDU."**
2.  **Chr치n캩n칠 Soubory (CRITICAL BUILD ARTIFACTS):** Po aktivaci plat칤 **STRIKTN칈 Z츼KAZ** neohl치코en칳ch zm캩n u `package.json`, buildovac칤ch konfigura캜n칤ch soubor콢 a skript콢 pro lok치ln칤 buildy.
3.  **Povinnost Ozn치men칤 P콏ed Zm캩nou (Code Freeze):** Pokud 칰kol vy쬬duje 칰pravu chr치n캩n칠ho souboru, AI **MUS칈** u쬴vatele **HLASIT캨 UPOZORNIT** a vy쮂멳at si potvrzen칤: **"游뚿 UPOZORN캨N칈: Pravidlo 6 je AKTIVN칈! 칔kol vy쬬duje 칰pravu chr치n캩n칠ho souboru [N츼ZEV_SOUBORU]. Chcete p콏esto pokra캜ovat? Potvr캞te: 'ANO, UPRAVIT'."**
4.  **Historie Chyb:** Poka쬯칠, kdy build sel쬰 a AI chybu oprav칤, **MUS칈** automaticky zaznamenat ud치lost a 콏e코en칤 do `PROJECT_CONTEXT.md` (sekce BUILD_FAILURE_HISTORY).
5.  **Povinn치 Kontrola Regrese:** P콏ed dokon캜en칤m jak칠koliv implementace k칩du, AI **MUS칈** prov칠st kontrolu regrese proti historii chyb a zajistit, 쬰 nov치 implementace nevr치t칤 쮂멳nou z d콏칤ve opraven칳ch chyb.

# -----------------------------------------------------------------

# KL칈캛OV칄 PRAVIDLO 7: SYST칄M ROZESTUP콡 (SPACING SYSTEM - MOBILN칈)

## POKYNY PRO MARGINY A PADDINGY
1.  **Striktn칤 Pou쬴t칤 Syst칠mu:** V코echny **marginy** a **paddingy** mus칤 b칳t definov치ny a aplikov치ny **V칗HRADN캨** pomoc칤 **DESIGN TOKEN콡** (nap콏. `theme.spacing.md`).
2.  **Z츼KAZ:** Pou쮂셨치n칤 hard-coded 캜칤seln칳ch hodnot pro rozestupy (nap콏. `padding: 15`). V쬯y preferuj tokeny.
3.  **Odd캩len칤 Zodpov캩dnosti:** Vzhledem k neexistenci kask치dy, AI **MUS칈** pro rozestupy mezi prvky up콏ednostnit pou쬴t칤 `margin` na dan칠m elementu nebo **Flexbox `gap`** (pokud je podporov치no), ale s d콢razem na jednotn칠 hodnoty z token콢.

# -----------------------------------------------------------------

# KL칈캛OV칄 PRAVIDLO 8: MODULARIZACE STYL콡 (STYLING ARCHITEKTURA - MOBILN칈)

## P콎칈SN칄 POKYNY PRO STYLOV츼N칈 A JEHO UM칈ST캨N칈
1.  **Princip Jedin칠ho M칤sta:** Styly pro komponentu **MUS칈** b칳t definov치ny **v칳hradn캩 v r치mci p콏idru쬰n칠ho souboru** (nap콏. `Button.styles.ts` nebo `StyleSheet.create` v `Button.tsx`).
2.  **Z츼KAZ:** **Inline styly** (`style={{...}}`) jsou povoleny POUZE pro dynamick칠 zm캩ny hodnot (nap콏. barva na z치klad캩 stavu).
3.  **Kask치da a D캩di캜nost:** AI **MUS칈** br치t v 칰vahu, 쬰 v nativn칤ch stylech **NEEXISTUJE KASK츼DA** a styly se ned캩d칤. V코echny pot콏ebn칠 styly **MUS칈** b칳t explicitn캩 definov치ny v ka쬯칠 komponent캩.

# -----------------------------------------------------------------

# KL칈캛OV칄 PRAVIDLO 10: STRIKTN칈 STRUKTURA SLO콯EK (MOBILN칈/NATIVE)

## Z츼KLADN칈 ARCHITEKTURA
1.  **Dodr쬺v치n칤 Zaveden칠 Struktury:** AI MUS칈 prostudovat st치vaj칤c칤 strom slo쬰k (typicky `/src` nebo `/app`) a V콯DY um칤stit nov칠 soubory do t칠 nejp콏esn캩j코칤 a nejpodobn캩j코칤 existuj칤c칤 slo쬶y.
2.  **Odd캩len칤 Zodpov캩dnosti (Separation of Concerns):** AI MUS칈 striktn캩 dodr쬺vat n치sleduj칤c칤 standardn칤 odd캩len칤:

    * **/components:** Zde MUS칈 b칳t um칤st캩ny znovupou쬴teln칠, hloup칠 (statick칠) UI prvky. V쬯y odd캩l styly do samostatn칠ho souboru (nap콏. `Button/Button.tsx` a `Button/Button.styles.ts`).
    * **/screens:** Zde MUS칈 b칳t um칤st캩ny komponenty, kter칠 reprezentuj칤 cel칠 obrazovky navigace (s naviga캜n칤 logikou).
    * **/navigation:** Zde MUS칈 b칳t ulo쬰na ve코ker치 konfigura캜n칤 a naviga캜n칤 logika (stack navig치tory, taby).
    * **/context nebo /redux:** Zde MUS칈 b칳t um칤st캩ny soubory glob치ln칤ho stavu a business logiky.
    * **/assets nebo /constants:** Zde MUS칈 b칳t um칤st캩ny obr치zky, fonty a konfigura캜n칤 soubory pro tokeny (Pravidlo 7).

3.  **Nativn칤 Soubory:** P콏i 칰prav캩 nativn칤ch soubor콢 (uvnit콏 `/ios` nebo `/android`) MUS칈 AI striktn캩 dodr쬺vat **Pravidlo 6** a m캩nit je POUZE, pokud je to nevyhnuteln칠 pro build/integraci modulu, s **explicitn칤m potvrzen칤m u쬴vatele**.